# üöÄ –ì—ñ–¥ –ø–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—é Fantasy World Builder

## üìã –û–≥–ª—è–¥

Fantasy World Builder –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫—ñ–ª—å–∫–∞ —Ä–µ–∂–∏–º—ñ–≤ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:

- **üñ•Ô∏è –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º** - SQLite + –ª–æ–∫–∞–ª—å–Ω–∏–π Ollama (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)
- **‚òÅÔ∏è –û–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º** - PostgreSQL + Ollama (–¥–ª—è production)
- **üéØ –î–µ–º–æ —Ä–µ–∂–∏–º** - In-memory –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- **üê≥ Docker** - –õ–µ–≥–∫–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

## üñ•Ô∏è –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π)

### –í–∏–º–æ–≥–∏

- Node.js 18+
- Ollama (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –®–Ü)

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
git clone <repository-url>
cd fantasy-world-builder

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
npm install

# –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç—É
npm run build

# –ó–∞–ø—É—Å–∫ –≤ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º—ñ
npm run start:offline
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Ollama (–¥–ª—è –®–Ü —Ñ—É–Ω–∫—Ü—ñ–π)

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Ollama
curl -fsSL https://ollama.ai/install.sh | sh

# –ó–∞–ø—É—Å–∫ Ollama
ollama serve

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)
ollama pull mistral
ollama pull llama2
```

### –î–æ—Å—Ç—É–ø

- **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://localhost:3001
- **API**: http://localhost:3001/api
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: `./data/offline-worlds.db`

## üê≥ Docker —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å–∫ –∑ SQLite (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)
docker-compose up -d

# –ó–∞–ø—É—Å–∫ –∑ PostgreSQL
docker-compose --profile postgres up -d

# –ó–∞–ø—É—Å–∫ –¥–µ–º–æ –≤–µ—Ä—Å—ñ—ó
docker-compose --profile demo up -d
```

### –î–æ—Å—Ç—É–ø

- **SQLite –≤–µ—Ä—Å—ñ—è**: http://localhost:8080
- **PostgreSQL –≤–µ—Ä—Å—ñ—è**: http://localhost:8081
- **–î–µ–º–æ –≤–µ—Ä—Å—ñ—è**: http://localhost:8082

### –ó–±—ñ—Ä–∫–∞ –≤–ª–∞—Å–Ω–æ–≥–æ –æ–±—Ä–∞–∑—É

```bash
# –ó–±—ñ—Ä–∫–∞
docker build -t fantasy-world-builder .

# –ó–∞–ø—É—Å–∫
docker run -p 8080:8080 fantasy-world-builder
```

## ‚òÅÔ∏è –•–º–∞—Ä–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### Railway (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π)

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Railway CLI
npm install -g @railway/cli

# –õ–æ–≥—ñ–Ω
railway login

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
railway init

# –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
railway variables set NODE_ENV=production
railway variables set STORAGE_TYPE=postgresql
railway variables set DATABASE_URL=${{Postgres.DATABASE_URL}}

# –î–µ–ø–ª–æ–π
railway up
```

### Render

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ Web Service
# Connect your GitHub repository
# Environment variables:
NODE_ENV=production
STORAGE_TYPE=postgresql
DATABASE_URL=<your-postgres-url>
```

### Vercel

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Vercel CLI
npm install -g vercel

# –î–µ–ø–ª–æ–π
vercel --prod
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

| –ó–º—ñ–Ω–Ω–∞         | –û–ø–∏—Å                 | –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º         |
| -------------- | -------------------- | ------------------------ |
| `NODE_ENV`     | –°–µ—Ä–µ–¥–æ–≤–∏—â–µ           | `development`            |
| `APP_MODE`     | –†–µ–∂–∏–º –¥–æ–¥–∞—Ç–∫—É        | `development`            |
| `STORAGE_TYPE` | –¢–∏–ø –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è       | `sqlite`                 |
| `DATABASE_URL` | URL PostgreSQL       | -                        |
| `SQLITE_PATH`  | –®–ª—è—Ö –¥–æ SQLite —Ñ–∞–π–ª—É | `./data/worlds.db`       |
| `AI_PROVIDER`  | –ü—Ä–æ–≤–∞–π–¥–µ—Ä –®–Ü         | `ollama`                 |
| `OLLAMA_URL`   | URL Ollama           | `http://localhost:11434` |
| `PORT`         | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞         | `8080`                   |

### –†–µ–∂–∏–º–∏ –¥–æ–¥–∞—Ç–∫—É

#### Development

```bash
npm run dev
```

#### Offline (SQLite)

```bash
npm run start:offline
```

#### Production (PostgreSQL)

```bash
npm run start:postgres
```

#### Demo (In-memory)

```bash
npm run start:demo
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### SQLite (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

- –§–∞–π–ª —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è: `./data/worlds.db`
- –ú—ñ–≥—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

### PostgreSQL

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
createdb fantasy_worlds

# –ó–∞–ø—É—Å–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π
npm run db:push

# –ê–±–æ –≤—Ä—É—á–Ω—É
psql -d fantasy_worlds -f migrations/001_initial.sql
```

## üéØ –®–Ü —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

### Ollama (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π)

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
curl -fsSL https://ollama.ai/install.sh | sh

# –ó–∞–ø—É—Å–∫
ollama serve

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
ollama pull mistral
ollama pull llama2
ollama pull codellama
```

### –ë–µ–∑ –®–Ü

–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `AI_PROVIDER=none` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –±–µ–∑ –®–Ü —Ñ—É–Ω–∫—Ü—ñ–π.

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### Health Check

```bash
curl http://localhost:8080/api/health
```

### –õ–æ–≥–∏

```bash
# Docker
docker-compose logs -f fantasy-world-builder

# –õ–æ–∫–∞–ª—å–Ω–æ
npm run start:offline
```

## üîí –ë–µ–∑–ø–µ–∫–∞

### Production –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ CORS
- –û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ API
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è —Å–µ–∫—Ä–µ—Ç—ñ–≤

### Docker –±–µ–∑–ø–µ–∫–∞

- –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —è–∫ root
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ .dockerignore
- –û–Ω–æ–≤–ª—é–π—Ç–µ –±–∞–∑–æ–≤—ñ –æ–±—Ä–∞–∑–∏

## üö® –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
echo $DATABASE_URL

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
psql $DATABASE_URL -c "SELECT 1"
```

### Ollama –Ω–µ –ø—Ä–∞—Ü—é—î

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å
curl http://localhost:11434/api/tags

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å
ollama serve
```

### –ü–æ—Ä—Ç –∑–∞–π–Ω—è—Ç–∏–π

```bash
# –ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç
PORT=3001 npm run start:offline
```

## üìà –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ PostgreSQL
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Redis –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

- –ó–±—ñ–ª—å—à—ñ—Ç—å —Ä–µ—Å—É—Ä—Å–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –∑–∞–ø–∏—Ç–∏ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à Fantasy World Builder –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:**

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–π –ø–µ—Ä—à–∏–π —Å–≤—ñ—Ç
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Ollama –¥–ª—è –®–Ü —Ñ—É–Ω–∫—Ü—ñ–π
4. –ù–∞—Å–æ–ª–æ–¥–∂—É–π—Ç–µ—Å—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Ñ–µ–Ω—Ç–µ–∑—ñ–π–Ω–∏—Ö —Å–≤—ñ—Ç—ñ–≤!

---

**–ü—ñ–¥—Ç—Ä–∏–º–∫–∞**: –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ GitHub –¥–ª—è –¥–æ–ø–æ–º–æ–≥–∏
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: –î–∏–≤—ñ—Ç—å—Å—è `/docs` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
